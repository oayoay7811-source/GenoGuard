<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>جينوجارد - منصة تحليل الصحة الوراثية بالذكاء الاصطناعي</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;500;600;700&display=swap" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
      :root {
        --primary: #2563eb;
        --primary-light: #3b82f6;
        --primary-dark: #1e40af;
        --success: #059669;
        --danger: #dc2626;
        --warning: #d97706;
        --bg: #0f172a;
        --surface: #1e293b;
        --surface-light: #334155;
        --text: #f8fafc;
        --text-light: #cbd5e1;
        --border: #334155;
      }
      
      * { box-sizing: border-box; }
      
      html { scroll-behavior: smooth; }
      
      body {
        margin: 0;
        padding: 0;
        font-family: 'IBM Plex Sans Arabic', 'Segoe UI', Tahoma, Arial, sans-serif;
        background: var(--bg);
        color: var(--text);
      }
      
      header {
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #1e40af 100%);
        color: white;
        padding: 1.5rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
        position: relative;
        overflow: visible;
        border-bottom: 1px solid rgba(37, 99, 235, 0.3);
        margin-right: 260px;
        z-index: 100;
      }
      
      .header-content {
        position: relative;
        z-index: 1;
        max-width: 1200px;
        margin: 0 auto;
      }
      
      .header-top {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1.5rem;
      }
      
      .header-logo-title {
        display: flex;
        align-items: center;
        gap: 1.25rem;
        flex: 1;
      }
      
      .header-logo {
        height: 140px;
        width: auto;
        max-width: 500px;
        object-fit: contain;
        filter: brightness(1.3) contrast(1.15) saturate(1.1) drop-shadow(0 4px 12px rgba(37, 99, 235, 0.4));
      }
      
      header h1 {
        margin: 0 0 0.35rem;
        font-size: 1.9rem;
        font-weight: 700;
        color: #ffffff;
        text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
      }
      
      header p {
        margin: 0;
        font-size: 1rem;
        opacity: 0.95;
        color: #ffffff;
      }
      
      .description-header {
        background: linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
        border-bottom: 1px solid rgba(37, 99, 235, 0.2);
        padding: 3rem 2rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        margin-right: 260px;
        z-index: 50;
      }
      
      .header-description-content {
        max-width: 1200px;
        margin: 0 auto;
      }
      
      .header-description-text {
        font-size: 1.05rem;
        line-height: 1.8;
        color: rgba(255, 255, 255, 0.95);
        text-align: center;
        margin-bottom: 1.5rem;
      }
      
      .header-features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1.25rem;
        max-width: 1000px;
        margin: 0 auto;
      }
      
      .header-feature {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        font-size: 0.95rem;
        font-weight: 600;
        color: rgba(255, 255, 255, 0.95);
        padding: 0.875rem 1.5rem;
        background: rgba(30, 41, 59, 0.7);
        border-radius: 8px;
        border: 1px solid rgba(37, 99, 235, 0.3);
        transition: all 0.3s ease;
      }
      
      .header-feature:hover {
        background: rgba(37, 99, 235, 0.2);
        transform: translateY(-2px);
      }
      
      main {
        max-width: 1200px;
        margin: 0 auto;
        padding: 3rem 1.5rem;
        margin-right: 280px;
      }
      
      .sidebar {
        position: fixed;
        right: 0;
        top: 0;
        width: 260px;
        height: 100vh;
        background: linear-gradient(180deg, var(--surface) 0%, var(--bg) 100%);
        border-left: 2px solid var(--border);
        padding: 2rem 0;
        overflow-y: auto;
        z-index: 1000;
        box-shadow: -4px 0 12px rgba(0, 0, 0, 0.3);
      }
      
      .sidebar-header {
        padding: 0 1.5rem 1.5rem;
        border-bottom: 2px solid var(--border);
        margin-bottom: 1rem;
      }
      
      .sidebar-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--primary-light);
        margin: 0;
        text-align: center;
      }
      
      .sidebar-nav {
        list-style: none;
        margin: 0;
        padding: 0;
      }
      
      .sidebar-nav-link {
        display: block;
        padding: 0.875rem 1.5rem;
        color: var(--text-light);
        text-decoration: none;
        transition: all 0.2s ease;
        font-weight: 500;
        font-size: 0.95rem;
        border-right: 3px solid transparent;
        cursor: pointer;
      }
      
      .sidebar-nav-link:hover {
        background: rgba(37, 99, 235, 0.1);
        color: var(--primary-light);
        border-right-color: var(--primary-light);
      }
      
      .sidebar-nav-link.active {
        background: linear-gradient(270deg, rgba(37, 99, 235, 0.2) 0%, rgba(37, 99, 235, 0.05) 100%);
        color: var(--primary-light);
        border-right-color: var(--primary);
        font-weight: 600;
      }
      
      .section {
        background: var(--surface);
        border-radius: 8px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        border: 1px solid var(--border);
      }
      
      .section-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--primary-light);
        margin: 0 0 2rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--primary);
      }
      
      .member-card {
        background: var(--bg);
        border-radius: 8px;
        padding: 1.5rem;
        border: 2px solid var(--border);
        transition: all 0.3s;
        margin-bottom: 1.5rem;
      }
      
      .member-card:hover {
        border-color: var(--primary);
        box-shadow: 0 4px 12px rgba(124, 58, 237, 0.2);
      }
      
      .member-name {
        font-weight: 700;
        font-size: 1.1rem;
        color: #ffffff;
        margin-bottom: 0.5rem;
      }
      
      .member-info {
        font-size: 0.85rem;
        color: #e5e7eb;
        margin-bottom: 1rem;
      }
      
      .condition-label {
        font-weight: 600;
        font-size: 0.8rem;
        color: var(--warning);
        text-transform: uppercase;
        margin-bottom: 0.5rem;
      }
      
      .condition-list {
        font-size: 0.85rem;
        color: #e5e7eb;
      }
      
      .analysis-card {
        background: linear-gradient(135deg, var(--surface) 0%, rgba(124, 58, 237, 0.05) 50%, var(--surface-light) 100%);
        border: 2px solid var(--border);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 1.5rem;
        transition: all 0.4s;
      }
      
      .analysis-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 32px rgba(124, 58, 237, 0.25);
        border-color: var(--primary-light);
      }
      
      .analysis-card-title {
        font-weight: 800;
        font-size: 1.25rem;
        color: #ffffff;
        margin-bottom: 0.75rem;
        padding: 0.75rem 1rem;
        border-radius: 8px;
        background: rgba(124, 58, 237, 0.1);
      }
      
      .analysis-card-content {
        color: var(--text-light);
        line-height: 1.8;
        font-size: 0.95rem;
      }
      
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        margin: 2rem 0;
      }
      
      .stat-card {
        text-align: center;
        padding: 1.5rem;
        background: var(--surface);
        border-radius: 8px;
        border: 1px solid var(--border);
      }
      
      .stat-number {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary);
      }
      
      .stat-label {
        font-size: 0.9rem;
        color: var(--text-light);
        margin-top: 0.5rem;
      }
      
      .result-box {
        background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95));
        border: 1px solid rgba(59, 130, 246, 0.25);
        border-radius: 12px;
        padding: 2.5rem;
        color: #ffffff;
        line-height: 2;
        margin: 2rem 0;
      }
      
      .result-box h2 {
        color: #a78bfa;
        font-size: 1.75rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
      }
      
      .result-box h3 {
        color: #c4b5fd;
        font-size: 1.4rem;
        font-weight: 700;
        margin: 2rem 0 1rem;
      }
      
      .result-box ul {
        margin: 1rem 0;
        padding-right: 2rem;
      }
      
      .result-box li {
        color: #e5e7eb;
        margin-bottom: 0.75rem;
        line-height: 1.8;
      }
      
      .result-box strong {
        color: #ffffff;
        font-weight: 700;
      }
      
      footer {
        background: var(--surface);
        color: var(--text-light);
        text-align: center;
        padding: 2rem;
        margin-top: 4rem;
        border-top: 2px solid var(--border);
        margin-right: 260px;
      }

      /* Chart container animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      canvas {
        animation: fadeInUp 1s ease-out;
        max-width: 100%;
        height: auto !important;
      }

      /* Enhanced chart hover effects */
      canvas:hover {
        cursor: pointer;
      }

      /* Chart grid responsive layout */
      @media (max-width: 1200px) {
        div[style*="grid-template-columns: repeat(2, 1fr)"] {
          grid-template-columns: 1fr !important;
        }
      }
      
      /* Mobile Menu Backdrop */
      .mobile-backdrop {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .mobile-backdrop.active {
        display: block;
        opacity: 1;
      }

      /* Mobile Menu Toggle */
      .mobile-menu-toggle {
        display: none;
        position: fixed;
        top: 1rem;
        right: 1rem;
        z-index: 2000;
        background: var(--primary);
        color: white;
        border: none;
        border-radius: 8px;
        padding: 0.75rem;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
      }

      .mobile-menu-toggle:hover {
        background: var(--primary-dark);
        transform: scale(1.05);
      }

      .mobile-menu-toggle span {
        display: block;
        width: 25px;
        height: 3px;
        background: white;
        margin: 5px 0;
        transition: 0.3s;
        border-radius: 2px;
      }

      .mobile-menu-toggle.active span:nth-child(1) {
        transform: rotate(-45deg) translate(-6px, 6px);
      }

      .mobile-menu-toggle.active span:nth-child(2) {
        opacity: 0;
      }

      .mobile-menu-toggle.active span:nth-child(3) {
        transform: rotate(45deg) translate(-6px, -6px);
      }

      /* Tablet and below */
      @media (max-width: 968px) {
        header, .description-header, main, footer {
          margin-right: 0;
        }
        
        .sidebar {
          transform: translateX(100%);
          transition: transform 0.3s ease;
        }

        .sidebar.active {
          transform: translateX(0);
        }

        .mobile-menu-toggle {
          display: block;
        }
        
        .stats-grid {
          grid-template-columns: 1fr;
        }

        .header-features {
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        }

        /* Fix charts alignment on tablet */
        div[style*="grid-template-columns: repeat(2, 1fr)"] {
          grid-template-columns: 1fr !important;
        }
      }

      /* Mobile phones */
      @media (max-width: 768px) {
        body {
          font-size: 14px;
        }

        header {
          padding: 1rem;
        }

        .header-logo {
          height: 80px;
          max-width: 300px;
        }

        header h1 {
          font-size: 1.4rem;
          margin-bottom: 0.25rem;
        }

        header p {
          font-size: 0.85rem;
        }

        .description-header {
          padding: 2rem 1rem;
        }

        .header-description-text {
          font-size: 0.95rem;
          line-height: 1.6;
          margin-bottom: 1rem;
        }

        .header-features {
          grid-template-columns: 1fr;
          gap: 0.75rem;
        }

        .header-feature {
          font-size: 0.85rem;
          padding: 0.75rem 1rem;
        }

        main {
          padding: 1.5rem 1rem;
          margin-right: 0;
        }

        .section {
          padding: 1.5rem;
          margin-bottom: 1.5rem;
          border-radius: 12px;
        }

        .section-title {
          font-size: 1.25rem;
          margin-bottom: 1.5rem;
        }

        .stats-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
          margin: 1.5rem 0;
        }

        .stat-card {
          padding: 1.25rem;
        }

        .stat-number {
          font-size: 1.75rem;
        }

        .stat-label {
          font-size: 0.85rem;
        }

        /* Member cards grid - stack on mobile */
        div[style*="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))"] {
          display: grid !important;
          grid-template-columns: 1fr !important;
          gap: 1rem !important;
        }

        .member-card {
          padding: 1.25rem;
          margin-bottom: 1rem;
        }

        .member-name {
          font-size: 1rem;
        }

        .member-info, .condition-list {
          font-size: 0.8rem;
        }

        .analysis-card {
          padding: 1.5rem;
          margin-bottom: 1.25rem;
          border-radius: 12px;
        }

        .analysis-card-title {
          font-size: 1.1rem;
          padding: 0.625rem 0.875rem;
        }

        .analysis-card-content {
          font-size: 0.875rem;
          line-height: 1.7;
        }

        .analysis-card-content ul,
        .result-box ul {
          padding-right: 1.25rem;
          margin: 0.75rem 0;
        }

        .analysis-card-content li,
        .result-box li {
          margin-bottom: 0.5rem;
          font-size: 0.85rem;
        }

        /* Charts container */
        div[style*="grid-template-columns: repeat(auto-fit, minmax(400px, 1fr))"],
        div[style*="grid-template-columns: repeat(auto-fit, minmax(350px, 1fr))"],
        div[style*="grid-template-columns: repeat(2, 1fr)"] {
          display: grid !important;
          grid-template-columns: 1fr !important;
          gap: 1.5rem !important;
        }

        /* Ensure chart containers have proper height on mobile */
        div[style*="min-height: 350px"] {
          min-height: auto !important;
        }

        /* Result box */
        .result-box {
          padding: 1.5rem;
          margin: 1.5rem 0;
          line-height: 1.8;
        }

        .result-box h2 {
          font-size: 1.4rem;
          margin-bottom: 1.25rem;
        }

        .result-box h3 {
          font-size: 1.15rem;
          margin: 1.5rem 0 0.75rem;
        }

        .result-box p {
          font-size: 0.875rem;
          margin-bottom: 0.75rem;
        }

        /* Footer */
        footer {
          padding: 1.5rem 1rem;
          margin-top: 3rem;
        }

        footer p {
          font-size: 0.85rem;
        }

        /* Sidebar on mobile */
        .sidebar {
          width: 280px;
          box-shadow: -8px 0 24px rgba(0, 0, 0, 0.5);
        }

        .sidebar-title {
          font-size: 1.1rem;
        }

        .sidebar-nav-link {
          padding: 0.75rem 1.25rem;
          font-size: 0.9rem;
        }

        /* Tagline banner */
        div[style*="margin-right: 260px"] {
          margin-right: 0 !important;
          padding: 1rem 1rem !important;
        }

        div[style*="margin-right: 260px"] p {
          font-size: 1rem !important;
        }
      }

      /* Small phones */
      @media (max-width: 480px) {
        header h1 {
          font-size: 1.2rem;
        }

        header p {
          font-size: 0.75rem;
        }

        .header-logo {
          height: 60px;
          max-width: 250px;
        }

        .description-header {
          padding: 1.5rem 0.75rem;
        }

        .header-description-text {
          font-size: 0.875rem;
        }

        .header-feature {
          font-size: 0.8rem;
          padding: 0.625rem 0.875rem;
        }

        main {
          padding: 1rem 0.75rem;
        }

        .section {
          padding: 1.25rem;
        }

        .section-title {
          font-size: 1.1rem;
        }

        .analysis-card {
          padding: 1.25rem;
        }

        .analysis-card-title {
          font-size: 1rem;
        }

        .result-box {
          padding: 1.25rem;
        }

        .result-box h2 {
          font-size: 1.25rem;
        }

        .result-box h3 {
          font-size: 1.05rem;
        }

        .sidebar {
          width: 260px;
        }

        /* Stat cards */
        .stat-number {
          font-size: 1.5rem;
        }

        .stat-label {
          font-size: 0.8rem;
        }

        /* Charts */
        canvas {
          max-height: 200px !important;
        }
      }
    </style>
  </head>
  <body>
    <!-- Mobile Backdrop -->
    <div class="mobile-backdrop" id="mobileBackdrop"></div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="فتح القائمة">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h2 class="sidebar-title">التنقل</h2>
      </div>
      <ul class="sidebar-nav">
        <li><a href="#familyData" class="sidebar-nav-link active">بيانات العائلة</a></li>
        <li><a href="#healthOverview" class="sidebar-nav-link">نظرة عامة على الصحة</a></li>
        <li><a href="#analysisReport" class="sidebar-nav-link">تقرير التحليل</a></li>
        <li><a href="#recommendations" class="sidebar-nav-link">التوصيات</a></li>
      </ul>
    </nav>

    <!-- Header -->
    <header>
      <div class="header-content">
        <div class="header-top">
          <div class="header-logo-title">
            <img src="static/tuwaiq_logo.png" alt="جينوجارد" class="header-logo" onerror="this.onerror=null; this.style.display='none';" />
            <div>
              <h1>جينوجارد</h1>
              <p>منصة تحليل الصحة الوراثية بالذكاء الاصطناعي</p>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Tagline Banner -->
    <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%); padding: 1.5rem 2rem; text-align: center; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); margin-right: 260px; position: relative; z-index: 45;">
      <p style="margin: 0; font-size: 1.3rem; font-weight: 700; color: white; letter-spacing: 0.5px; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);">
        اعرف جذورك. احمِ مستقبلك.
      </p>
    </div>

    <!-- Description Header -->
    <div class="description-header">
      <div class="header-description-content">
        <p class="header-description-text">
          <strong style="color: var(--primary-light); font-size: 1.15rem;">مرحباً بك في جينوجارد</strong>
          <br><br>
          احصل على تحليل لتاريخ صحة عائلتك عبر ثلاثة أجيال باستخدام الذكاء الاصطناعي. احصل على تقييمات مخصصة للمخاطر وتوصيات صحية وقائية.
        </p>
        <div class="header-features">
          <div class="header-feature">تحليل 3 أجيال</div>
          <div class="header-feature">رؤى بالذكاء الاصطناعي</div>
          <div class="header-feature">توصيات وقائية</div>
          <div class="header-feature">تقييم شامل للمخاطر</div>
          <div class="header-feature">استراتيجيات الكشف المبكر</div>
          <div class="header-feature">خطط صحية مخصصة</div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <main>
      <!-- Family Data Section -->
      <div class="section" id="familyData">
        <h2 class="section-title">بيانات العائلة</h2>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number">4</div>
            <div class="stat-label">الأجداد</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">2</div>
            <div class="stat-label">الوالدان</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">3</div>
            <div class="stat-label">الأبناء</div>
          </div>
        </div>

        <h3 style="color: var(--primary); margin: 2rem 0 1rem; font-size: 1.2rem;">الجيل الأول - الأجداد</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
          <div class="member-card">
            <div class="member-name">جدة الأم</div>
            <div class="member-info">العمر: 78 سنة</div>
            <div>
              <div class="condition-label">الحالات الصحية</div>
              <div class="condition-list">السكري من النوع 2، ارتفاع ضغط الدم، التهاب المفاصل</div>
            </div>
          </div>
          
          <div class="member-card">
            <div class="member-name">جد الأم</div>
            <div class="member-info">توفي في عمر 72 سنة</div>
            <div>
              <div class="condition-label">الحالات الصحية</div>
              <div class="condition-list">أمراض القلب التاجية، ارتفاع الكوليسترول، تدخين</div>
            </div>
          </div>
          
          <div class="member-card">
            <div class="member-name">جدة الأب</div>
            <div class="member-info">العمر: 82 سنة</div>
            <div>
              <div class="condition-label">الحالات الصحية</div>
              <div class="condition-list">ارتفاع ضغط الدم، هشاشة العظام</div>
            </div>
          </div>
          
          <div class="member-card">
            <div class="member-name">جد الأب</div>
            <div class="member-info">توفي في عمر 68 سنة</div>
            <div>
              <div class="condition-label">الحالات الصحية</div>
              <div class="condition-list">سرطان القولون، السكري من النوع 2</div>
            </div>
          </div>
        </div>

        <h3 style="color: var(--primary); margin: 2rem 0 1rem; font-size: 1.2rem;">الجيل الثاني - الوالدان</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
          <div class="member-card">
            <div class="member-name">الأم</div>
            <div class="member-info">العمر: 52 سنة</div>
            <div>
              <div class="condition-label">الحالات الصحية</div>
              <div class="condition-list">مقدمات السكري، ارتفاع ضغط الدم الحدي، زيادة الوزن</div>
            </div>
          </div>
          
          <div class="member-card">
            <div class="member-name">الأب</div>
            <div class="member-info">العمر: 55 سنة</div>
            <div>
              <div class="condition-label">الحالات الصحية</div>
              <div class="condition-list">ارتفاع الكوليسترول، أمراض القلب (مرحلة مبكرة)، نمط حياة غير نشط</div>
            </div>
          </div>
        </div>

        <h3 style="color: var(--primary); margin: 2rem 0 1rem; font-size: 1.2rem;">الجيل الثالث - الأبناء</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
          <div class="member-card">
            <div class="member-name">الابن الأول</div>
            <div class="member-info">العمر: 28 سنة</div>
            <div>
              <div class="condition-label">الحالات الصحية</div>
              <div class="condition-list">ارتفاع ضغط الدم الحدي، زيادة الوزن</div>
            </div>
          </div>
          
          <div class="member-card">
            <div class="member-name">الابنة الثانية</div>
            <div class="member-info">العمر: 25 سنة</div>
            <div>
              <div class="condition-label">الحالات الصحية</div>
              <div class="condition-list">بصحة جيدة، لديها نمط حياة صحي</div>
            </div>
          </div>
          
          <div class="member-card">
            <div class="member-name">الابن الثالث</div>
            <div class="member-info">العمر: 22 سنة</div>
            <div>
              <div class="condition-label">الحالات الصحية</div>
              <div class="condition-list">بصحة جيدة</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Health Overview Section -->
      <div class="section" id="healthOverview">
        <h2 class="section-title">نظرة عامة على الصحة</h2>
        
        <div class="analysis-card">
          <h3 class="analysis-card-title">ملخص الصحة العائلية</h3>
          <div class="analysis-card-content">
            <p>تم معالجة بيانات الصحة العائلية بنجاح. يشمل التحليل 9 أفراد من العائلة عبر 3 أجيال، مع أنماط محددة في الحالات الصحية القلبية الوعائية والاضطرابات الأيضية.</p>
            <ul style="margin: 1.5rem 0; padding-right: 2rem;">
              <li><strong>إجمالي أفراد العائلة:</strong> 9</li>
              <li><strong>الأجيال المحللة:</strong> 3</li>
              <li><strong>الحالات الشائعة:</strong> السكري، ارتفاع ضغط الدم، أمراض القلب</li>
              <li><strong>عوامل نمط الحياة:</strong> التدخين، نمط الحياة غير النشط، زيادة الوزن</li>
            </ul>
          </div>
        </div>

        <!-- Health Statistics Charts -->
        <div style="margin: 3rem 0; background: linear-gradient(135deg, rgba(15, 23, 42, 0.98), rgba(30, 41, 59, 0.95)); padding: 2.5rem; border-radius: 16px; border: 1px solid rgba(59, 130, 246, 0.25); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);">
          
          <!-- Section Header -->
          <div style="text-align: center; margin-bottom: 2.5rem;">
            <div style="display: inline-block; background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 51, 234, 0.15)); padding: 0.75rem 2rem; border-radius: 12px; border: 2px solid rgba(59, 130, 246, 0.4);">
              <h3 style="margin: 0; color: rgba(147, 197, 253, 1); font-size: 1.6rem; font-weight: 700;">إحصائيات نظرة عامة على الصحة</h3>
            </div>
          </div>
          
          <!-- Statistics Cards -->
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem; margin-bottom: 2.5rem;">
            <div style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1)); border: 2px solid rgba(239, 68, 68, 0.3); border-radius: 12px; padding: 1.5rem; text-align: center;">
              <div style="font-size: 2.5rem; font-weight: 700; color: #fca5a5; margin-bottom: 0.5rem;">3</div>
              <div style="font-size: 0.95rem; color: rgba(252, 165, 165, 0.9); font-weight: 600;">حالات عالية الخطورة</div>
            </div>
            <div style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(217, 119, 6, 0.1)); border: 2px solid rgba(245, 158, 11, 0.3); border-radius: 12px; padding: 1.5rem; text-align: center;">
              <div style="font-size: 2.5rem; font-weight: 700; color: #fbbf24; margin-bottom: 0.5rem;">2</div>
              <div style="font-size: 0.95rem; color: rgba(251, 191, 36, 0.9); font-weight: 600;">حالات متوسطة الخطورة</div>
            </div>
            <div style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.1)); border: 2px solid rgba(16, 185, 129, 0.3); border-radius: 12px; padding: 1.5rem; text-align: center;">
              <div style="font-size: 2.5rem; font-weight: 700; color: #6ee7b7; margin-bottom: 0.5rem;">1</div>
              <div style="font-size: 0.95rem; color: rgba(110, 231, 183, 0.9); font-weight: 600;">حالات منخفضة الخطورة</div>
            </div>
            <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(37, 99, 235, 0.1)); border: 2px solid rgba(59, 130, 246, 0.3); border-radius: 12px; padding: 1.5rem; text-align: center;">
              <div style="font-size: 2.5rem; font-weight: 700; color: #93c5fd; margin-bottom: 0.5rem;">6</div>
              <div style="font-size: 0.95rem; color: rgba(147, 197, 253, 0.9); font-weight: 600;">أمراض تم تحديدها</div>
            </div>
          </div>
          
          <!-- Charts Grid -->
          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; margin-top: 2rem;">
            <!-- Risk Distribution Chart -->
            <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95)); border-radius: 16px; padding: 1.5rem; border: 2px solid rgba(59, 130, 246, 0.35); box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2), 0 0 20px rgba(59, 130, 246, 0.1); transition: all 0.3s ease; min-height: 350px; display: flex; flex-direction: column;">
              <h4 style="color: rgba(147, 197, 253, 1); font-size: 1.1rem; font-weight: 700; margin: 0 0 1rem 0; text-align: center; text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);">توزيع الخطورة</h4>
              <div style="flex: 1; display: flex; align-items: center; justify-content: center;">
                <canvas id="riskDistributionChart" style="max-height: 240px; width: 100%;"></canvas>
              </div>
            </div>
            
            <!-- Disease Prevalence Chart -->
            <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95)); border-radius: 16px; padding: 1.5rem; border: 2px solid rgba(59, 130, 246, 0.35); box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2), 0 0 20px rgba(59, 130, 246, 0.1); transition: all 0.3s ease; min-height: 350px; display: flex; flex-direction: column;">
              <h4 style="color: rgba(147, 197, 253, 1); font-size: 1.1rem; font-weight: 700; margin: 0 0 1rem 0; text-align: center; text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);">معدلات انتشار الأمراض</h4>
              <div style="flex: 1; display: flex; align-items: center; justify-content: center;">
                <canvas id="diseasePrevalenceChart" style="max-height: 240px; width: 100%;"></canvas>
              </div>
            </div>
          </div>
          
          <!-- Generation Comparison Chart (Full Width) -->
          <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95)); border-radius: 16px; padding: 1.5rem; border: 2px solid rgba(59, 130, 246, 0.35); box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2), 0 0 20px rgba(59, 130, 246, 0.1); margin-top: 1.5rem; transition: all 0.3s ease; min-height: 350px; display: flex; flex-direction: column;">
            <h4 style="color: rgba(147, 197, 253, 1); font-size: 1.1rem; font-weight: 700; margin: 0 0 1rem 0; text-align: center; text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);">مقارنة الصحة حسب الأجيال</h4>
            <div style="flex: 1; display: flex; align-items: center; justify-content: center;">
              <canvas id="generationComparisonChart" style="max-height: 280px; width: 100%;"></canvas>
            </div>
          </div>
        </div>

        <!-- Disease Charts Section -->
        <div style="margin: 3rem 0; background: linear-gradient(135deg, rgba(17, 24, 39, 0.95), rgba(31, 41, 55, 0.95)); padding: 2.5rem; border-radius: 16px; border: 1px solid rgba(124, 58, 237, 0.3); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);">
          
          <!-- Section Header -->
          <div style="text-align: center; margin-bottom: 2rem;">
            <div style="display: inline-block; background: rgba(59, 130, 246, 0.15); padding: 0.75rem 2rem; border-radius: 12px; border: 2px solid rgba(59, 130, 246, 0.4);">
              <h3 style="margin: 0; color: rgba(147, 197, 253, 1); font-size: 1.5rem; font-weight: 700;">مخططات الأمراض</h3>
            </div>
            <p style="color: rgba(226, 232, 240, 0.85); font-size: 0.95rem; line-height: 1.6; max-width: 600px; margin: 1rem auto 0;">كل مخطط يعرض أفراد العائلة المصابين بكل مرض</p>
          </div>
          
          <!-- Charts Container -->
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; justify-items: center;">
            
            <!-- Diabetes Chart -->
            <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95)); border-radius: 16px; padding: 1.5rem; border: 2px solid rgba(239, 68, 68, 0.5); width: 100%; max-width: 400px; box-shadow: 0 8px 24px rgba(239, 68, 68, 0.15), 0 0 20px rgba(0, 0, 0, 0.2); transition: all 0.3s ease;">
              <h4 style="color: #fca5a5; font-size: 1rem; font-weight: 700; margin: 0 0 1rem 0; text-align: center; text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);">السكري من النوع 2</h4>
              <canvas id="diabetesChart" style="max-height: 200px;"></canvas>
              <div style="text-align: center; margin-top: 1rem; padding-top: 1rem; border-top: 2px solid rgba(239, 68, 68, 0.3);">
                <span style="color: rgba(252, 165, 165, 1); font-size: 0.9rem; font-weight: 700;">معدل الانتشار: 33%</span>
              </div>
            </div>

            <!-- Hypertension Chart -->
            <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95)); border-radius: 16px; padding: 1.5rem; border: 2px solid rgba(239, 68, 68, 0.5); width: 100%; max-width: 400px; box-shadow: 0 8px 24px rgba(239, 68, 68, 0.15), 0 0 20px rgba(0, 0, 0, 0.2); transition: all 0.3s ease;">
              <h4 style="color: #fca5a5; font-size: 1rem; font-weight: 700; margin: 0 0 1rem 0; text-align: center; text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);">ارتفاع ضغط الدم</h4>
              <canvas id="hypertensionChart" style="max-height: 200px;"></canvas>
              <div style="text-align: center; margin-top: 1rem; padding-top: 1rem; border-top: 2px solid rgba(239, 68, 68, 0.3);">
                <span style="color: rgba(252, 165, 165, 1); font-size: 0.9rem; font-weight: 700;">معدل الانتشار: 44%</span>
              </div>
            </div>

            <!-- Heart Disease Chart -->
            <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95)); border-radius: 16px; padding: 1.5rem; border: 2px solid rgba(245, 158, 11, 0.5); width: 100%; max-width: 400px; box-shadow: 0 8px 24px rgba(245, 158, 11, 0.15), 0 0 20px rgba(0, 0, 0, 0.2); transition: all 0.3s ease;">
              <h4 style="color: #fbbf24; font-size: 1rem; font-weight: 700; margin: 0 0 1rem 0; text-align: center; text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);">أمراض القلب</h4>
              <canvas id="heartDiseaseChart" style="max-height: 200px;"></canvas>
              <div style="text-align: center; margin-top: 1rem; padding-top: 1rem; border-top: 2px solid rgba(245, 158, 11, 0.3);">
                <span style="color: rgba(251, 191, 36, 1); font-size: 0.9rem; font-weight: 700;">معدل الانتشار: 22%</span>
              </div>
            </div>

            <!-- Cancer Chart -->
            <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95)); border-radius: 16px; padding: 1.5rem; border: 2px solid rgba(245, 158, 11, 0.5); width: 100%; max-width: 400px; box-shadow: 0 8px 24px rgba(245, 158, 11, 0.15), 0 0 20px rgba(0, 0, 0, 0.2); transition: all 0.3s ease;">
              <h4 style="color: #fbbf24; font-size: 1rem; font-weight: 700; margin: 0 0 1rem 0; text-align: center; text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);">سرطان القولون</h4>
              <canvas id="cancerChart" style="max-height: 200px;"></canvas>
              <div style="text-align: center; margin-top: 1rem; padding-top: 1rem; border-top: 2px solid rgba(245, 158, 11, 0.3);">
                <span style="color: rgba(251, 191, 36, 1); font-size: 0.9rem; font-weight: 700;">معدل الانتشار: 11%</span>
              </div>
            </div>

            <!-- Arthritis Chart -->
            <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95)); border-radius: 16px; padding: 1.5rem; border: 2px solid rgba(16, 185, 129, 0.5); width: 100%; max-width: 400px; box-shadow: 0 8px 24px rgba(16, 185, 129, 0.15), 0 0 20px rgba(0, 0, 0, 0.2); transition: all 0.3s ease;">
              <h4 style="color: #6ee7b7; font-size: 1rem; font-weight: 700; margin: 0 0 1rem 0; text-align: center; text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);">التهاب المفاصل</h4>
              <canvas id="arthritisChart" style="max-height: 200px;"></canvas>
              <div style="text-align: center; margin-top: 1rem; padding-top: 1rem; border-top: 2px solid rgba(16, 185, 129, 0.3);">
                <span style="color: rgba(110, 231, 183, 1); font-size: 0.9rem; font-weight: 700;">معدل الانتشار: 11%</span>
              </div>
            </div>

            <!-- High Cholesterol Chart -->
            <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.98), rgba(51, 65, 85, 0.95)); border-radius: 16px; padding: 1.5rem; border: 2px solid rgba(245, 158, 11, 0.5); width: 100%; max-width: 400px; box-shadow: 0 8px 24px rgba(245, 158, 11, 0.15), 0 0 20px rgba(0, 0, 0, 0.2); transition: all 0.3s ease;">
              <h4 style="color: #fbbf24; font-size: 1rem; font-weight: 700; margin: 0 0 1rem 0; text-align: center; text-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);">ارتفاع الكوليسترول</h4>
              <canvas id="cholesterolChart" style="max-height: 200px;"></canvas>
              <div style="text-align: center; margin-top: 1rem; padding-top: 1rem; border-top: 2px solid rgba(245, 158, 11, 0.3);">
                <span style="color: rgba(251, 191, 36, 1); font-size: 0.9rem; font-weight: 700;">معدل الانتشار: 22%</span>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- Analysis Report Section -->
      <div class="section" id="analysisReport">
        <h2 class="section-title">تقرير تحليل الصحة بالذكاء الاصطناعي</h2>
        
        <div class="result-box">
          <h2>تقرير تحليل الصحة الوراثية الشامل</h2>
          
          <p><strong>بناءً على تحليل التاريخ الصحي لعائلتك عبر ثلاثة أجيال</strong></p>
          
          <h3>1. السكري من النوع 2 (Type 2 Diabetes)</h3>
          <p><strong>مستوى الخطر:</strong> <span style="color: #fca5a5; font-weight: 700;">مرتفع</span></p>
          <p><strong>التحليل:</strong></p>
          <ul>
            <li>تم اكتشاف نمط وراثي قوي للسكري عبر الأجيال، حيث أصيب به 3 أفراد من عائلتك (جدة الأم، جد الأب، وأظهرت الأم علامات مقدمات السكري)</li>
            <li>معدل انتشار السكري في عائلتك: 33٪ (أعلى بكثير من المعدل الوطني)</li>
            <li>عمر ظهور المرض يتناقص عبر الأجيال (جدة الأم 65 سنة، الأم 50 سنة - مقدمات السكري)</li>
            <li>عوامل الخطر الإضافية: زيادة الوزن، نمط حياة غير نشط</li>
          </ul>
          
          <p><strong>التوصيات:</strong></p>
          <ul>
            <li>فحص مستوى السكر التراكمي (HbA1c) كل 6 أشهر</li>
            <li>الحفاظ على مؤشر كتلة جسم صحي (18.5-24.9)</li>
            <li>ممارسة الرياضة لمدة 150 دقيقة أسبوعياً على الأقل</li>
            <li>اتباع نظام غذائي منخفض السكريات والكربوهيدرات المكررة</li>
            <li>مراقبة مستوى الجلوكوز في الدم بانتظام</li>
          </ul>

          <h3>2. ارتفاع ضغط الدم (Hypertension)</h3>
          <p><strong>مستوى الخطر:</strong> <span style="color: #fca5a5; font-weight: 700;">مرتفع</span></p>
          <p><strong>التحليل:</strong></p>
          <ul>
            <li>ارتفاع ضغط الدم موجود في 4 أفراد من العائلة عبر جميع الأجيال</li>
            <li>معدل انتشار في العائلة: 44٪ (نسبة عالية جداً)</li>
            <li>الابن الأول (28 سنة) يظهر بالفعل علامات ارتفاع ضغط الدم الحدي - مؤشر على البداية المبكرة</li>
            <li>الأم تعاني من ارتفاع ضغط الدم الحدي مع عوامل خطر إضافية</li>
          </ul>
          
          <p><strong>التوصيات:</strong></p>
          <ul>
            <li>قياس ضغط الدم في المنزل بشكل يومي أو أسبوعي</li>
            <li>تقليل تناول الملح (أقل من 5 جرام يومياً)</li>
            <li>إدارة التوتر من خلال تقنيات الاسترخاء والتأمل</li>
            <li>تناول الأطعمة الغنية بالبوتاسيوم (الموز، السبانخ)</li>
            <li>الحفاظ على وزن صحي وممارسة الرياضة بانتظام</li>
          </ul>

          <h3>3. أمراض القلب التاجية (Coronary Heart Disease)</h3>
          <p><strong>مستوى الخطر:</strong> <span style="color: #fbbf24; font-weight: 700;">متوسط إلى مرتفع</span></p>
          <p><strong>التحليل:</strong></p>
          <ul>
            <li>جد الأم توفي بسبب أمراض القلب التاجية في عمر 72 سنة</li>
            <li>الأب يعاني من أمراض القلب في مراحلها المبكرة مع ارتفاع الكوليسترول</li>
            <li>عوامل الخطر المشتركة: التدخين (جد الأم)، نمط حياة غير نشط، ارتفاع الكوليسترول</li>
            <li>التاريخ العائلي يزيد من خطر الإصابة لدى الأجيال القادمة</li>
          </ul>
          
          <p><strong>التوصيات:</strong></p>
          <ul>
            <li>فحص شامل للقلب والأوعية الدموية سنوياً (ECG، إيكو القلب)</li>
            <li>فحص مستوى الكوليسترول كل 6 أشهر</li>
            <li>تجنب التدخين والتعرض للدخان السلبي</li>
            <li>اتباع نظام غذائي متوسطي غني بالأوميجا 3</li>
            <li>ممارسة الرياضة الهوائية (المشي السريع، السباحة) لتقوية القلب</li>
            <li>إدارة مستويات التوتر والإجهاد</li>
          </ul>

          <h3>4. السرطان - سرطان القولون (Colorectal Cancer)</h3>
          <p><strong>مستوى الخطر:</strong> <span style="color: #fbbf24; font-weight: 700;">متوسط</span></p>
          <p><strong>التحليل:</strong></p>
          <ul>
            <li>جد الأب توفي بسبب سرطان القولون</li>
            <li>التاريخ العائلي لسرطان القولون يزيد من خطر الإصابة بنسبة 2-3 أضعاف</li>
            <li>يُنصح بالبدء بفحوصات الكشف المبكر في سن مبكرة (40 سنة بدلاً من 45-50)</li>
          </ul>
          
          <p><strong>التوصيات:</strong></p>
          <ul>
            <li>البدء بتنظير القولون (Colonoscopy) في عمر 40 سنة أو قبل 10 سنوات من عمر تشخيص جد الأب</li>
            <li>إعادة فحص القولون كل 5-10 سنوات حسب النتائج</li>
            <li>تناول نظام غذائي غني بالألياف (الخضروات، الفواكه، الحبوب الكاملة)</li>
            <li>تقليل تناول اللحوم الحمراء واللحوم المصنعة</li>
            <li>الحفاظ على وزن صحي وممارسة الرياضة بانتظام</li>
            <li>تجنب التدخين والإفراط في شرب الكحول</li>
          </ul>

          <h3>5. التهاب المفاصل وهشاشة العظام (Arthritis & Osteoporosis)</h3>
          <p><strong>مستوى الخطر:</strong> <span style="color: #6ee7b7; font-weight: 700;">منخفض إلى متوسط</span></p>
          <p><strong>التحليل:</strong></p>
          <ul>
            <li>جدة الأم تعاني من التهاب المفاصل</li>
            <li>جدة الأب تعاني من هشاشة العظام</li>
            <li>خطر الإصابة يزداد مع التقدم في العمر، خاصة عند النساء</li>
          </ul>
          
          <p><strong>التوصيات:</strong></p>
          <ul>
            <li>قياس كثافة العظام (DEXA scan) للنساء بعد سن 50 والرجال بعد 65</li>
            <li>تناول كمية كافية من الكالسيوم (1000-1200 ملغ يومياً) وفيتامين D (800-1000 وحدة دولية)</li>
            <li>ممارسة تمارين تحمل الوزن (المشي، تمارين المقاومة)</li>
            <li>تجنب التدخين والإفراط في الكافيين</li>
          </ul>

          <h2>ملخص المخاطر الإجمالية</h2>
          <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 10px; border-right: 4px solid var(--primary);">
            <p><strong>الحالات عالية الخطورة:</strong></p>
            <ul>
              <li>السكري من النوع 2 (33٪ انتشار عائلي)</li>
              <li>ارتفاع ضغط الدم (44٪ انتشار عائلي)</li>
              <li>أمراض القلب التاجية (نمط عبر الأجيال)</li>
            </ul>
            
            <p style="margin-top: 1.5rem;"><strong>الحالات متوسطة الخطورة:</strong></p>
            <ul>
              <li>سرطان القولون (تاريخ عائلي مباشر)</li>
              <li>ارتفاع الكوليسترول</li>
            </ul>
            
            <p style="margin-top: 1.5rem;"><strong>عوامل الخطر القابلة للتعديل:</strong></p>
            <ul>
              <li>زيادة الوزن / السمنة</li>
              <li>نمط الحياة غير النشط</li>
              <li>النظام الغذائي غير الصحي</li>
              <li>التدخين (في الأجيال السابقة)</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Recommendations Section -->
      <div class="section" id="recommendations">
        <h2 class="section-title">التوصيات الوقائية الشاملة</h2>
        
        <div class="analysis-card">
          <h3 class="analysis-card-title">1. تعديلات نمط الحياة</h3>
          <div class="analysis-card-content">
            <ul style="margin: 1rem 0; padding-right: 2rem;">
              <li><strong>النظام الغذائي:</strong> اتبع نظام غذائي متوسطي غني بالخضروات، الفواكه، الحبوب الكاملة، الأسماك، وزيت الزيتون. قلل من السكريات والدهون المشبعة.</li>
              <li><strong>النشاط البدني:</strong> 150 دقيقة من التمارين الهوائية المعتدلة أسبوعياً + تمارين القوة مرتين في الأسبوع.</li>
              <li><strong>إدارة الوزن:</strong> حافظ على مؤشر كتلة جسم بين 18.5-24.9.</li>
              <li><strong>النوم:</strong> 7-9 ساعات من النوم الجيد كل ليلة.</li>
              <li><strong>إدارة التوتر:</strong> مارس تقنيات الاسترخاء مثل التأمل واليوجا والتنفس العميق.</li>
            </ul>
          </div>
        </div>

        <div class="analysis-card">
          <h3 class="analysis-card-title">2. الفحوصات الدورية المطلوبة</h3>
          <div class="analysis-card-content">
            <ul style="margin: 1rem 0; padding-right: 2rem;">
              <li><strong>فحص السكر التراكمي (HbA1c):</strong> كل 6 أشهر</li>
              <li><strong>فحص الكوليسترول الشامل:</strong> كل 6 أشهر</li>
              <li><strong>قياس ضغط الدم:</strong> شهرياً في المنزل، وعند كل زيارة للطبيب</li>
              <li><strong>تخطيط القلب (ECG):</strong> سنوياً</li>
              <li><strong>إيكو القلب:</strong> كل 2-3 سنوات أو حسب توصية الطبيب</li>
              <li><strong>تنظير القولون:</strong> بدءاً من عمر 40 سنة، ثم كل 5-10 سنوات</li>
              <li><strong>فحص كثافة العظام (DEXA):</strong> للنساء بعد 50 سنة، للرجال بعد 65 سنة</li>
            </ul>
          </div>
        </div>

        <div class="analysis-card">
          <h3 class="analysis-card-title">3. متى تستشير الطبيب فوراً؟</h3>
          <div class="analysis-card-content">
            <p><strong>استشر طبيبك فوراً إذا عانيت من:</strong></p>
            <ul style="margin: 1rem 0; padding-right: 2rem;">
              <li>ألم أو ضغط في الصدر، خاصة مع ألم في الذراع أو الفك</li>
              <li>صعوبة في التنفس أو ضيق نفس مفاجئ</li>
              <li>أعراض السكري: عطش شديد، تبول متكرر، فقدان وزن غير مبرر، تعب شديد</li>
              <li>ارتفاع ضغط الدم المفاجئ (أعلى من 180/120)</li>
              <li>نزيف في البراز أو تغير مستمر في عادات الأمعاء</li>
              <li>أي أعراض غير عادية تثير قلقك</li>
            </ul>
          </div>
        </div>

        <div class="analysis-card">
          <h3 class="analysis-card-title">4. الخطوات التالية</h3>
          <div class="analysis-card-content">
            <ol style="margin: 1rem 0; padding-right: 2rem;">
              <li>شارك هذا التقرير مع طبيبك الخاص</li>
              <li>ناقش التاريخ الصحي لعائلتك مع مقدم الرعاية الصحية</li>
              <li>اطلب استشارة وراثية إذا أوصى بها طبيبك</li>
              <li>ابدأ بتنفيذ تعديلات نمط الحياة تدريجياً</li>
              <li>قم بجدولة الفحوصات الدورية الموصى بها</li>
              <li>راقب صحتك بانتظام وسجل أي تغييرات</li>
            </ol>
          </div>
        </div>

        <!-- Summary Card -->
        <div class="analysis-card" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, var(--surface) 100%); border-color: var(--success); margin-top: 2rem;">
          <h3 class="analysis-card-title" style="color: #6ee7b7;">ملخص التحليل</h3>
          <div class="analysis-card-content">
            <p><strong>التحليل الشامل لتاريخ الصحة العائلية يظهر:</strong></p>
            <p>تاريخ عائلتك يشير إلى وجود استعداد وراثي قوي للحالات الأيضية والقلبية الوعائية. ومع ذلك، فإن معظم هذه الحالات قابلة للوقاية أو التحكم من خلال تعديلات نمط الحياة والفحوصات الدورية المبكرة.</p>
            <p style="margin-top: 1rem;">من خلال اتخاذ إجراءات وقائية الآن، يمكنك تقليل خطر الإصابة بهذه الحالات بنسبة تصل إلى 60٪. ركز على النظام الغذائي الصحي، والنشاط البدني المنتظم، والحفاظ على وزن صحي، وإجراء الفحوصات الطبية الدورية.</p>
          </div>
        </div>

        <!-- Disclaimer -->
        <div class="analysis-card" style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, var(--surface) 100%); border-color: var(--danger);">
          <h3 class="analysis-card-title" style="color: #fca5a5;">معلومات مهمة</h3>
          <div class="analysis-card-content">
            <p><strong>تنويه طبي:</strong></p>
            <p>هذا التحليل هو لأغراض تعليمية وإعلامية فقط ولا يجب اعتباره بديلاً عن المشورة الطبية المهنية أو التشخيص أو العلاج. استشر دائماً طبيبك أو مقدم الرعاية الصحية المؤهل بشأن أي أسئلة قد تكون لديك حول حالة طبية. لا تتجاهل المشورة الطبية المهنية أو تؤخر في طلبها بسبب شيء قرأته في هذا التقرير.</p>
            <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.85;">
              <strong>مصدر البيانات:</strong> تم إنشاء هذا التحليل بواسطة الذكاء الاصطناعي باستخدام نماذج لغوية متقدمة (GPT-4 / Gemini) بناءً على البيانات المقدمة. النتائج تقديرية وتعتمد على الأنماط الإحصائية والأبحاث الطبية العامة.
            </p>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer>
      <p style="margin: 0; font-size: 1rem; font-weight: 600;">&copy; 2024 جينوجارد. جميع الحقوق محفوظة.</p>
      <p style="margin-top: 0.5rem; font-size: 0.85rem; opacity: 0.8;">منصة تحليل الصحة الوراثية بالذكاء الاصطناعي | هذه الأداة توفر معلومات تعليمية فقط ولا تحل محل المشورة الطبية المهنية</p>
      <p style="margin-top: 0.75rem; font-size: 0.9rem;">
        <a href="mailto:GenoGuard@gmail.com" style="color: var(--primary-light); text-decoration: none; transition: color 0.3s;">
          📧 GenoGuard@gmail.com
        </a>
      </p>
    </footer>

    <script>
      // Mobile menu toggle
      const mobileMenuToggle = document.getElementById('mobileMenuToggle');
      const sidebar = document.getElementById('sidebar');
      const mobileBackdrop = document.getElementById('mobileBackdrop');
      
      function closeSidebar() {
        if (sidebar) sidebar.classList.remove('active');
        if (mobileMenuToggle) mobileMenuToggle.classList.remove('active');
        if (mobileBackdrop) mobileBackdrop.classList.remove('active');
      }

      function openSidebar() {
        if (sidebar) sidebar.classList.add('active');
        if (mobileMenuToggle) mobileMenuToggle.classList.add('active');
        if (mobileBackdrop) mobileBackdrop.classList.add('active');
      }

      if (mobileMenuToggle && sidebar) {
        mobileMenuToggle.addEventListener('click', function() {
          if (sidebar.classList.contains('active')) {
            closeSidebar();
          } else {
            openSidebar();
          }
        });

        // Close sidebar when clicking on backdrop
        if (mobileBackdrop) {
          mobileBackdrop.addEventListener('click', closeSidebar);
        }
      }

      // Smooth scrolling
      document.querySelectorAll('.sidebar-nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          
          document.querySelectorAll('.sidebar-nav-link').forEach(l => l.classList.remove('active'));
          this.classList.add('active');
          
          const targetId = this.getAttribute('href').substring(1);
          const targetSection = document.getElementById(targetId);
          if (targetSection) {
            targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }

          // Close sidebar on mobile after clicking a link
          if (window.innerWidth <= 968) {
            closeSidebar();
          }
        });
      });

      // Highlight active section on scroll
      window.addEventListener('scroll', function() {
        const sections = document.querySelectorAll('.section');
        const scrollPos = window.scrollY + 150;
        
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.offsetHeight;
          const sectionId = section.getAttribute('id');
          
          if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
            document.querySelectorAll('.sidebar-nav-link').forEach(link => {
              link.classList.remove('active');
              if (link.getAttribute('href') === '#' + sectionId) {
                link.classList.add('active');
              }
            });
          }
        });
      });

      // Create Charts when page loads
      document.addEventListener('DOMContentLoaded', function() {
        // Chart.js default font settings for Arabic
        Chart.defaults.font.family = "'IBM Plex Sans Arabic', 'Segoe UI', Tahoma, Arial, sans-serif";
        Chart.defaults.color = '#cbd5e1';

        // 1. Risk Distribution Chart (Enhanced Doughnut Chart)
        const riskCtx = document.getElementById('riskDistributionChart');
        if (riskCtx) {
          new Chart(riskCtx, {
            type: 'doughnut',
            data: {
              labels: ['خطورة عالية', 'خطورة متوسطة', 'خطورة منخفضة'],
              datasets: [{
                data: [3, 2, 1],
                backgroundColor: [
                  'rgba(239, 68, 68, 0.9)',
                  'rgba(245, 158, 11, 0.9)',
                  'rgba(16, 185, 129, 0.9)'
                ],
                borderColor: [
                  'rgba(239, 68, 68, 1)',
                  'rgba(245, 158, 11, 1)',
                  'rgba(16, 185, 129, 1)'
                ],
                borderWidth: 3,
                hoverOffset: 15,
                hoverBorderWidth: 4,
                hoverBorderColor: '#fff'
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              cutout: '65%',
              animation: {
                animateRotate: true,
                animateScale: true,
                duration: 1500,
                easing: 'easeInOutQuart'
              },
              plugins: {
                legend: {
                  position: 'bottom',
                  labels: {
                    color: '#cbd5e1',
                    font: { 
                      size: 14, 
                      family: "'IBM Plex Sans Arabic', sans-serif",
                      weight: '600'
                    },
                    padding: 18,
                    usePointStyle: true,
                    pointStyle: 'circle'
                  }
                },
                tooltip: {
                  backgroundColor: 'rgba(15, 23, 42, 0.98)',
                  titleColor: '#fff',
                  bodyColor: '#cbd5e1',
                  borderColor: 'rgba(59, 130, 246, 0.6)',
                  borderWidth: 2,
                  padding: 16,
                  displayColors: true,
                  titleFont: { size: 15, weight: 'bold' },
                  bodyFont: { size: 14 },
                  cornerRadius: 8,
                  callbacks: {
                    label: function(context) {
                      const total = context.dataset.data.reduce((a, b) => a + b, 0);
                      const percentage = ((context.parsed / total) * 100).toFixed(1);
                      return context.label + ': ' + context.parsed + ' حالة (' + percentage + '%)';
                    }
                  }
                }
              }
            }
          });
        }

        // 2. Disease Prevalence Chart (Enhanced Bar Chart with Gradients)
        const prevalenceCtx = document.getElementById('diseasePrevalenceChart');
        if (prevalenceCtx) {
          // Create gradients for each bar
          const ctx = prevalenceCtx.getContext('2d');
          
          const createGradient = (ctx, color1, color2) => {
            const gradient = ctx.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, color1);
            gradient.addColorStop(1, color2);
            return gradient;
          };
          
          new Chart(prevalenceCtx, {
            type: 'bar',
            data: {
              labels: ['ضغط الدم', 'السكري', 'القلب', 'الكوليسترول', 'السرطان', 'المفاصل'],
              datasets: [{
                label: 'معدل الانتشار (%)',
                data: [44, 33, 22, 22, 11, 11],
                backgroundColor: [
                  createGradient(ctx, 'rgba(239, 68, 68, 0.9)', 'rgba(220, 38, 38, 0.6)'),
                  createGradient(ctx, 'rgba(239, 68, 68, 0.9)', 'rgba(220, 38, 38, 0.6)'),
                  createGradient(ctx, 'rgba(245, 158, 11, 0.9)', 'rgba(217, 119, 6, 0.6)'),
                  createGradient(ctx, 'rgba(245, 158, 11, 0.9)', 'rgba(217, 119, 6, 0.6)'),
                  createGradient(ctx, 'rgba(245, 158, 11, 0.9)', 'rgba(217, 119, 6, 0.6)'),
                  createGradient(ctx, 'rgba(16, 185, 129, 0.9)', 'rgba(5, 150, 105, 0.6)')
                ],
                borderColor: [
                  'rgba(239, 68, 68, 1)',
                  'rgba(239, 68, 68, 1)',
                  'rgba(245, 158, 11, 1)',
                  'rgba(245, 158, 11, 1)',
                  'rgba(245, 158, 11, 1)',
                  'rgba(16, 185, 129, 1)'
                ],
                borderWidth: 2,
                borderRadius: 8,
                borderSkipped: false,
                hoverBackgroundColor: [
                  'rgba(239, 68, 68, 1)',
                  'rgba(239, 68, 68, 1)',
                  'rgba(245, 158, 11, 1)',
                  'rgba(245, 158, 11, 1)',
                  'rgba(245, 158, 11, 1)',
                  'rgba(16, 185, 129, 1)'
                ]
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              animation: {
                duration: 1500,
                easing: 'easeInOutQuart'
              },
              scales: {
                y: {
                  beginAtZero: true,
                  max: 50,
                  ticks: {
                    color: '#cbd5e1',
                    font: { size: 12, weight: '500' },
                    callback: function(value) { return value + '%'; }
                  },
                  grid: { 
                    color: 'rgba(203, 213, 225, 0.1)',
                    lineWidth: 1
                  }
                },
                x: {
                  ticks: {
                    color: '#cbd5e1',
                    font: { size: 12, family: "'IBM Plex Sans Arabic', sans-serif", weight: '500' }
                  },
                  grid: { display: false }
                }
              },
              plugins: {
                legend: { display: false },
                tooltip: {
                  backgroundColor: 'rgba(15, 23, 42, 0.98)',
                  titleColor: '#fff',
                  bodyColor: '#cbd5e1',
                  borderColor: 'rgba(59, 130, 246, 0.6)',
                  borderWidth: 2,
                  padding: 16,
                  titleFont: { size: 15, weight: 'bold' },
                  bodyFont: { size: 14 },
                  cornerRadius: 8,
                  callbacks: {
                    label: function(context) {
                      return 'معدل الانتشار: ' + context.parsed.y + '%';
                    }
                  }
                }
              }
            }
          });
        }

        // 3. Generation Comparison Chart (Enhanced Line Chart with Gradients)
        const generationCtx = document.getElementById('generationComparisonChart');
        if (generationCtx) {
          const ctx2 = generationCtx.getContext('2d');
          
          // Create gradients for area fills
          const gradient1 = ctx2.createLinearGradient(0, 0, 0, 400);
          gradient1.addColorStop(0, 'rgba(239, 68, 68, 0.3)');
          gradient1.addColorStop(1, 'rgba(239, 68, 68, 0.01)');
          
          const gradient2 = ctx2.createLinearGradient(0, 0, 0, 400);
          gradient2.addColorStop(0, 'rgba(59, 130, 246, 0.3)');
          gradient2.addColorStop(1, 'rgba(59, 130, 246, 0.01)');
          
          new Chart(generationCtx, {
            type: 'line',
            data: {
              labels: ['الأجداد', 'الوالدان', 'الأبناء'],
              datasets: [
                {
                  label: 'عدد الحالات الصحية',
                  data: [10, 5, 2],
                  borderColor: 'rgba(239, 68, 68, 1)',
                  backgroundColor: gradient1,
                  borderWidth: 4,
                  tension: 0.4,
                  fill: true,
                  pointRadius: 6,
                  pointHoverRadius: 10,
                  pointBackgroundColor: 'rgba(239, 68, 68, 1)',
                  pointBorderColor: '#fff',
                  pointBorderWidth: 3,
                  pointHoverBackgroundColor: '#fff',
                  pointHoverBorderColor: 'rgba(239, 68, 68, 1)',
                  pointHoverBorderWidth: 3
                },
                {
                  label: 'متوسط العمر',
                  data: [75, 53, 25],
                  borderColor: 'rgba(59, 130, 246, 1)',
                  backgroundColor: gradient2,
                  borderWidth: 4,
                  tension: 0.4,
                  fill: true,
                  yAxisID: 'y1',
                  pointRadius: 6,
                  pointHoverRadius: 10,
                  pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                  pointBorderColor: '#fff',
                  pointBorderWidth: 3,
                  pointHoverBackgroundColor: '#fff',
                  pointHoverBorderColor: 'rgba(59, 130, 246, 1)',
                  pointHoverBorderWidth: 3
                }
              ]
            },
            options: {
              responsive: true,
              maintainAspectRatio: true,
              animation: {
                duration: 1800,
                easing: 'easeInOutQuart'
              },
              interaction: {
                mode: 'index',
                intersect: false,
              },
              scales: {
                y: {
                  type: 'linear',
                  display: true,
                  position: 'right',
                  title: {
                    display: true,
                    text: 'عدد الحالات',
                    color: '#fca5a5',
                    font: { size: 13, family: "'IBM Plex Sans Arabic', sans-serif", weight: '600' }
                  },
                  ticks: {
                    color: '#cbd5e1',
                    font: { size: 12, weight: '500' }
                  },
                  grid: { 
                    color: 'rgba(239, 68, 68, 0.1)',
                    lineWidth: 1
                  }
                },
                y1: {
                  type: 'linear',
                  display: true,
                  position: 'left',
                  title: {
                    display: true,
                    text: 'متوسط العمر',
                    color: '#93c5fd',
                    font: { size: 13, family: "'IBM Plex Sans Arabic', sans-serif", weight: '600' }
                  },
                  ticks: {
                    color: '#cbd5e1',
                    font: { size: 12, weight: '500' }
                  },
                  grid: { drawOnChartArea: false }
                },
                x: {
                  ticks: {
                    color: '#cbd5e1',
                    font: { size: 13, family: "'IBM Plex Sans Arabic', sans-serif", weight: '500' }
                  },
                  grid: { display: false }
                }
              },
              plugins: {
                legend: {
                  position: 'top',
                  labels: {
                    color: '#cbd5e1',
                    font: { size: 13, family: "'IBM Plex Sans Arabic', sans-serif", weight: '600' },
                    padding: 18,
                    usePointStyle: true,
                    pointStyle: 'circle'
                  }
                },
                tooltip: {
                  backgroundColor: 'rgba(15, 23, 42, 0.98)',
                  titleColor: '#fff',
                  bodyColor: '#cbd5e1',
                  borderColor: 'rgba(59, 130, 246, 0.6)',
                  borderWidth: 2,
                  padding: 16,
                  titleFont: { size: 15, weight: 'bold' },
                  bodyFont: { size: 14 },
                  cornerRadius: 8
                }
              }
            }
          });
        }

        // Enhanced Helper function to create doughnut charts for individual diseases
        function createDiseaseChart(canvasId, affected, notAffected, colors) {
          const ctx = document.getElementById(canvasId);
          if (ctx) {
            new Chart(ctx, {
              type: 'doughnut',
              data: {
                labels: ['مصاب', 'غير مصاب'],
                datasets: [{
                  data: [affected, notAffected],
                  backgroundColor: [colors.affected, colors.notAffected],
                  borderColor: [colors.affectedBorder, colors.notAffectedBorder],
                  borderWidth: 3,
                  hoverOffset: 12,
                  hoverBorderWidth: 4,
                  hoverBorderColor: '#fff'
                }]
              },
              options: {
                responsive: true,
                maintainAspectRatio: true,
                cutout: '60%',
                animation: {
                  animateRotate: true,
                  animateScale: true,
                  duration: 1500,
                  easing: 'easeInOutQuart'
                },
                plugins: {
                  legend: {
                    position: 'bottom',
                    labels: {
                      color: '#cbd5e1',
                      font: { 
                        size: 13, 
                        family: "'IBM Plex Sans Arabic', sans-serif",
                        weight: '600'
                      },
                      padding: 15,
                      usePointStyle: true,
                      pointStyle: 'circle'
                    }
                  },
                  tooltip: {
                    backgroundColor: 'rgba(15, 23, 42, 0.98)',
                    titleColor: '#fff',
                    bodyColor: '#cbd5e1',
                    borderColor: 'rgba(59, 130, 246, 0.6)',
                    borderWidth: 2,
                    padding: 16,
                    titleFont: { size: 14, weight: 'bold' },
                    bodyFont: { size: 13 },
                    cornerRadius: 8,
                    displayColors: true,
                    callbacks: {
                      label: function(context) {
                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                        const percentage = ((context.parsed / total) * 100).toFixed(1);
                        return context.label + ': ' + context.parsed + ' فرد (' + percentage + '%)';
                      }
                    }
                  }
                }
              }
            });
          }
        }

        // 4-9. Individual Disease Charts with Enhanced Colors
        // Diabetes (3 affected, 6 not affected)
        createDiseaseChart('diabetesChart', 3, 6, {
          affected: 'rgba(239, 68, 68, 0.95)',
          notAffected: 'rgba(51, 65, 85, 0.6)',
          affectedBorder: 'rgba(220, 38, 38, 1)',
          notAffectedBorder: 'rgba(71, 85, 105, 1)'
        });

        // Hypertension (4 affected, 5 not affected)
        createDiseaseChart('hypertensionChart', 4, 5, {
          affected: 'rgba(239, 68, 68, 0.95)',
          notAffected: 'rgba(51, 65, 85, 0.6)',
          affectedBorder: 'rgba(220, 38, 38, 1)',
          notAffectedBorder: 'rgba(71, 85, 105, 1)'
        });

        // Heart Disease (2 affected, 7 not affected)
        createDiseaseChart('heartDiseaseChart', 2, 7, {
          affected: 'rgba(245, 158, 11, 0.95)',
          notAffected: 'rgba(51, 65, 85, 0.6)',
          affectedBorder: 'rgba(217, 119, 6, 1)',
          notAffectedBorder: 'rgba(71, 85, 105, 1)'
        });

        // Cancer (1 affected, 8 not affected)
        createDiseaseChart('cancerChart', 1, 8, {
          affected: 'rgba(245, 158, 11, 0.95)',
          notAffected: 'rgba(51, 65, 85, 0.6)',
          affectedBorder: 'rgba(217, 119, 6, 1)',
          notAffectedBorder: 'rgba(71, 85, 105, 1)'
        });

        // Arthritis (1 affected, 8 not affected)
        createDiseaseChart('arthritisChart', 1, 8, {
          affected: 'rgba(16, 185, 129, 0.95)',
          notAffected: 'rgba(51, 65, 85, 0.6)',
          affectedBorder: 'rgba(5, 150, 105, 1)',
          notAffectedBorder: 'rgba(71, 85, 105, 1)'
        });

        // High Cholesterol (2 affected, 7 not affected)
        createDiseaseChart('cholesterolChart', 2, 7, {
          affected: 'rgba(245, 158, 11, 0.95)',
          notAffected: 'rgba(51, 65, 85, 0.6)',
          affectedBorder: 'rgba(217, 119, 6, 1)',
          notAffectedBorder: 'rgba(71, 85, 105, 1)'
        });
      });
    </script>
  </body>
</html>

